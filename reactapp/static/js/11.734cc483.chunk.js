(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{169:function(e,a,t){e.exports=t.p+"static/media/eye.a325a359.svg"},170:function(e,a,t){e.exports=t.p+"static/media/key.fdfd460c.svg"},172:function(e,a,t){e.exports=t.p+"static/media/login.a9ced1f7.png"},252:function(e,a,t){"use strict";t.r(a);var n=t(13),s=t(7),c=t(21),r=t(1),o=t(8),l=t.n(o),i=t(0),u=t.n(i),p=t(2),d=t(3),m=t(14),b=t(6),w=t(64),E=t(172),f=t.n(E),g=t(169),j=t.n(g),v=t(170),O=t.n(v);a.default=function(){var e=Object(i.useState)([!1,!1]),a=Object(r.a)(e,2),t=a[0],o=a[1],E=Object(i.useState)({password:"",password2:""}),g=Object(r.a)(E,2),v=g[0],k=g[1],y=Object(i.useState)(!1),h=Object(r.a)(y,2),C=h[0],x=h[1],N=Object(i.useState)(!1),S=Object(r.a)(N,2),M=S[0],P=S[1],R=Object(i.useState)(""),J=Object(r.a)(R,2),T=J[0],I=J[1],L=Object(d.d)(),U=Object(r.a)(L,1)[0],W=Object(i.useState)(!1),_=Object(r.a)(W,2),q=_[0],z=_[1],A=Object(i.useCallback)(function(e){var a=Object(c.a)(t);a[e]=!a[e],o(a)},[t]),B=Object(i.useCallback)(function(e){k(Object(s.a)({},v,Object(n.a)({},e.target.name,e.target.value)))},[v]),D=Object(i.useCallback)(function(){P(!0),I("");var e="".concat(b.b,"api/accounts/password_reset/confirm/"),a={password:v.password,token:U.get("token")};console.log(a),l.a.post(e,a).then(function(e){200===e.status?z(!0):I("Unknown error. Please try agauint later.")}).catch(function(e){return I("token is expired or invalid. Please try again")}).finally(function(){return P(!1)})},[v,U]);return Object(i.useEffect)(function(){v.password.length>=8&&v.password===v.password2?x(!0):x(!1)},[v,x]),u.a.createElement("div",{className:"login-screen-wrapper"},u.a.createElement(w.a,{coverImage:f.a,coverText:"Welcome to Mallorca Magic"},u.a.createElement("div",{className:"login-wrapper"},u.a.createElement("div",null,u.a.createElement(m.a,{text:"Reset your password"}),T&&u.a.createElement("div",{className:"error"},T),q?u.a.createElement("div",null,"password reset successfull. ",u.a.createElement(d.b,{to:"/login"},"Login")):u.a.createElement("div",{className:"login"},u.a.createElement("label",null,"Reset password"),u.a.createElement("div",{className:"input"},u.a.createElement(p.a,{src:O.a}),u.a.createElement("input",{type:t[0]?"text":"password",placeholder:"Enter a secure password",name:"password",value:v.password,onChange:B}),u.a.createElement("button",{onClick:function(){return A(0)}},u.a.createElement(p.a,{src:j.a}))),u.a.createElement("p",{style:{marginTop:-10}},"Must be atleast 8 characters long"),u.a.createElement("label",null,"Confirm password"),u.a.createElement("div",{className:"input"},u.a.createElement(p.a,{src:O.a}),u.a.createElement("input",{type:t[1]?"text":"password",placeholder:"Enter a secure password",name:"password2",value:v.password2,onChange:B}),u.a.createElement("button",{onClick:function(){return A(1)}},u.a.createElement(p.a,{src:j.a}))),u.a.createElement("div",{className:"buttons"},u.a.createElement("button",{onClick:D,className:M?"loading reset-button":"reset-button",disabled:M||!C},"Reset your Password")))))))}}}]);
//# sourceMappingURL=11.734cc483.chunk.js.map