(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{169:function(e,a,t){e.exports=t.p+"static/media/eye.a325a359.svg"},170:function(e,a,t){e.exports=t.p+"static/media/key.fdfd460c.svg"},171:function(e,a,t){e.exports=t.p+"static/media/sms.2c09bd0e.svg"},221:function(e,a,t){e.exports=t.p+"static/media/user.304edb0d.svg"},222:function(e,a,t){e.exports=t.p+"static/media/wellcome.1a27c3cd.png"},241:function(e,a,t){"use strict";t.r(a),t.d(a,"SignUp",function(){return I});var c=t(1),n=t(7),s=t(0),r=t.n(s),l=t(4),o=t(8),i=t.n(o),u=t(5),m=t(9),d=t(6),p=t(2),b=t(3),v=t(14),E=t(64),w=t(169),f=t.n(w),h=t(170),g=t.n(h),k=t(171),j=t.n(k),O=t(221),x=t.n(O),y=t(222),C=t.n(y),N=t(72),P=t(30),S={username:"username",email:"email",password:"password",confirmPassword:"confirmPassword",checkbox:"checkbox"},V=function(e,a){switch(a.type){case S.username:return Object(n.a)({},e,{username:a.value,isValid:e.checkbox&&a.value.length>0});case S.email:return Object(n.a)({},e,{email:a.value,isValid:e.checkbox&&Object(N.a)(a.value)});case S.password:return Object(n.a)({},e,{password:a.value,isValid:e.checkbox&&a.value.length>5&&a.value===e.confirmPassword});case S.confirmPassword:return Object(n.a)({},e,{confirmPassword:a.value,isValid:e.checkbox&&a.value.length>5&&a.value===e.password});case S.checkbox:return Object(n.a)({},e,{checkbox:a.value,isValid:a.value});default:return e}},I=function(){var e=Object(s.useState)(!1),a=Object(c.a)(e,2),t=a[0],n=a[1],o=Object(s.useState)(!1),w=Object(c.a)(o,2),h=w[0],k=w[1],O=Object(s.useReducer)(V,{username:"",email:"",password:"",confirmPassword:"",checkbox:!1,isValid:!1}),y=Object(c.a)(O,2),N=y[0],I=y[1],T=Object(s.useState)(""),U=Object(c.a)(T,2),J=U[0],L=U[1],M=Object(s.useState)(!1),R=Object(c.a)(M,2),B=R[0],F=R[1],G=Object(u.d)(m.a),W=(Object(c.a)(G,2)[1],Object(u.e)(m.b)),q=Object(l.f)(),z=Object(s.useState)(""),A=Object(c.a)(z,2),D=A[0],H=A[1],K=Object(s.useRef)();W.isLoggedIn&&q("/account-settings");var Q=Object(s.useCallback)(function(){n(!t)},[t]),X=Object(s.useCallback)(function(){k(!h)},[h]),Y=Object(s.useCallback)(function(e){I({type:S[e.target.name],value:e.target.value})},[N]),Z=Object(s.useCallback)(function(){I({type:S.checkbox,value:!N.checkbox})},[N]),$=Object(s.useCallback)(function(){N.isValid&&D&&(F(!0),i.a.post("".concat(d.b,"api/accounts/signup/"),{username:N.username,email:N.email,password:N.password,confirm:N.confirmPassword,recaptcha:D}).then(function(e){200===e.status&&(q("/login"),L(""))}).catch(function(e){L(e.response.data.error)}).finally(function(){F(!1),H(""),K.current&&K.current.reset()}))},[N,D,K]);return r.a.createElement("div",{className:"signup-screen-wrapper"},r.a.createElement(E.a,{coverImage:C.a,coverText:"Welcome to Mallorca Magic"},r.a.createElement("div",{className:"signup-wrapper"},r.a.createElement("div",null,r.a.createElement(v.a,{text:"Sign Up to Get Started"}),J&&r.a.createElement("div",{className:"error"},r.a.createElement("p",null,J)),r.a.createElement("div",{className:"signup"},r.a.createElement("label",null,"Username"),r.a.createElement("div",{className:"input"},r.a.createElement(p.a,{src:x.a}),r.a.createElement("input",{type:"text",placeholder:"Type your username",name:"username",value:N.username,onChange:Y})),r.a.createElement("label",null,"Email"),r.a.createElement("div",{className:"input"},r.a.createElement(p.a,{src:j.a}),r.a.createElement("input",{type:"text",placeholder:"Type your Email address",name:"email",value:N.email,onChange:Y})),r.a.createElement("label",null,"Password"),r.a.createElement("div",{className:"input"},r.a.createElement(p.a,{src:g.a}),r.a.createElement("input",{type:t?"text":"password",placeholder:"Enter a secure password",name:"password",value:N.password,onChange:Y}),r.a.createElement("button",{onClick:Q},r.a.createElement(p.a,{src:f.a}))),r.a.createElement("label",null,"Confirm password"),r.a.createElement("div",{className:"input"},r.a.createElement(p.a,{src:g.a}),r.a.createElement("input",{type:h?"text":"password",placeholder:"Enter your password again",name:"confirmPassword",value:N.confirmPassword,onChange:Y}),r.a.createElement("button",{onClick:X},r.a.createElement(p.a,{src:f.a}))),r.a.createElement("div",{className:"check-wrapper"},r.a.createElement("div",{className:"checkbox",onClick:Z},r.a.createElement("div",{className:N.checkbox?"check":""})),r.a.createElement("p",null,"By checking here indicate that I have read and agree to the ",r.a.createElement(b.b,{to:"/terms-conditions"},"Terms and Conditions.")," ")),r.a.createElement(P.a,{className:"check-wrapper",sitekey:d.a,onChange:function(e){return H(e)},ref:K}),r.a.createElement("div",{className:"buttons"},r.a.createElement("div",null,r.a.createElement(b.b,{to:"/login"},"Login"),r.a.createElement(b.b,{to:"/forget-password"},"Forget Password?")),r.a.createElement("button",{disabled:!N.isValid||!D,onClick:$,className:B?"loading":""},"Sign In")))))))};a.default=I}}]);
//# sourceMappingURL=7.780c7768.chunk.js.map