(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{175:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(0),c=a.n(n),i=a(2),r=function(e){var t=e.text,a=e.icon,r=e.active,s=e.handleShowActiveMenu,l=Object(n.useCallback)(function(){s&&s(t)},[t]);return c.a.createElement("button",{onClick:l,className:"button-icon ".concat(r?"active":"")}," ",a&&c.a.createElement(i.a,{src:a})," ",t," ")}},176:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(0),c=a.n(n),i=a(3),r=a(65),s=function(e){var t=e.img,a=e.title,n=e.desc,s=e.value,l=e.rating,o=e.slug;return c.a.createElement(i.b,{to:"/activities-link/".concat(o),style:{textDecoration:"none"}},c.a.createElement("div",{className:"top-attractions-wrapper-card"},c.a.createElement("div",{className:"top-attractions-card"},c.a.createElement("span",null,s),c.a.createElement("img",{src:t,alt:"top attr"}),c.a.createElement("div",{className:"content-text"},c.a.createElement("h2",null,a),c.a.createElement("div",null,[0,1,2,3,4].map(function(e){return c.a.createElement(r.a,{key:e,value:100*(l-e),color:"#FFCB45"})})),c.a.createElement("p",null,n)))))}},177:function(e,t,a){e.exports=a.p+"static/media/ActivitiesLandingPage.da51c1f0.png"},227:function(e,t,a){e.exports=a.p+"static/media/arrow-down2.27be8156.svg"},228:function(e,t,a){e.exports=a.p+"static/media/bxs_binoculars.f56475e1.svg"},229:function(e,t,a){e.exports=a.p+"static/media/emojioneMonotone.2d4e8a0d.svg"},230:function(e,t,a){e.exports=a.p+"static/media/entypo_ticket.69d84802.svg"},231:function(e,t,a){e.exports=a.p+"static/media/fa6-solid_bowl-food.5f8d57d5.svg"},232:function(e,t,a){e.exports=a.p+"static/media/healthicons_i-training-class.3174964d.svg"},233:function(e,t,a){e.exports=a.p+"static/media/ic_baseline-outdoor-grill.f925492e.svg"},234:function(e,t,a){e.exports=a.p+"static/media/map_art-gallery.1cb9d496.svg"},235:function(e,t,a){e.exports=a.p+"static/media/material-symbols_transportation.15789d17.svg"},236:function(e,t,a){e.exports=a.p+"static/media/star.efb9ab90.svg"},250:function(e,t,a){"use strict";a.r(t),a.d(t,"ActivitiesLanging",function(){return z});var n=a(21),c=a(1),i=a(8),r=a.n(i),s=a(0),l=a.n(s),o=a(26),u=a(2),d=a(3),m=a(175),p=a(71),v=a(33),g=a(66),f=a(67),b=a(14),E=a(176),x=a(6),O=a(64),j=a(177),h=a.n(j),w=a(227),k=a.n(w),y=a(228),N=a.n(y),_=a(229),C=a.n(_),S=a(230),A=a.n(S),M=a(231),P=a.n(M),L=a(232),T=a.n(L),D=a(233),F=a.n(D),U=a(234),G=a.n(U),I=a(235),J=a.n(I),R=a(236),q=a.n(R),z=function(){var e=Object(s.useState)(!1),t=Object(c.a)(e,2),a=t[0],i=t[1],j=Object(s.useState)([]),w=Object(c.a)(j,2),y=w[0],_=w[1],S=Object(s.useState)(!0),M=Object(c.a)(S,2),L=M[0],D=M[1],U=Object(s.useState)(!1),I=Object(c.a)(U,2),R=I[0],z=I[1],B=Object(d.d)(),V=Object(c.a)(B,2),H=V[0],K=(V[1],Object(s.useState)(H.has("tag")?H.get("tag"):"All Activities")),Q=Object(c.a)(K,2),W=Q[0],X=Q[1];Object(s.useEffect)(function(){H.has("tag")&&X(H.get("tag"))},[H]);var Y=Object(s.useState)({area:"",property:"",from:"",to:""}),Z=Object(c.a)(Y,2),$=Z[0],ee=Z[1],te=Object(s.useState)([]),ae=Object(c.a)(te,2),ne=ae[0],ce=ae[1],ie=Object(s.useCallback)(function(){var e=new URLSearchParams;e.append("limit","4"),e.append("fromPrice",$.from),e.append("toPrice",$.to),e.append("area",$.area),r.a.get(x.b+"api/property/search/",{params:e}).then(function(e){console.log(e),200===e.status&&ce(e.data.data)})},[$]),re=Object(s.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&_([]),z(!0);var t=new URLSearchParams;t.append("limit","8"),t.append("tag",W),!e&&y.length>0&&(t.append("start",y[y.length-1].rating.normalized),t.append("productCode",y[y.length-1].productCode)),r.a.get("".concat(x.b,"api/activities/"),{params:t}).then(function(t){200===t.status&&(_(e?t.data.data:[].concat(Object(n.a)(y),Object(n.a)(t.data.data))),D(t.data.more))}).catch(function(e){return console.log(e)}).finally(function(){return z(!1)})},[y,_,W]);Object(s.useEffect)(function(){return re(!0)},[W]);var se=Object(s.useCallback)(function(){i(!a)},[a]),le=Object(s.useCallback)(function(e){X(e),i(!a),console.log("here",W)},[W,a]);Object(s.useEffect)(ie,[]);var oe=Object(s.useMemo)(function(){return[{_id:1,text:"All Activities"},{_id:1,text:"Unique Experience",svg:q.a},{_id:1,text:"Tickets & Passes",svg:A.a},{_id:1,text:"Classes",svg:T.a},{_id:1,text:"Speacial Occasions",svg:C.a},{_id:1,text:"Outdoor Activities",svg:F.a},{_id:1,text:"Transportation services",svg:J.a},{_id:1,text:"Tours, Sightseeing",svg:N.a},{_id:1,text:"Art & Culture",svg:G.a},{_id:1,text:"Food & Drinks",svg:P.a}]},[]);return l.a.createElement("div",{className:"activities-langing-page-wrapper"},l.a.createElement(O.a,{coverImage:h.a,coverText:"Activities in Mallorca"},l.a.createElement("div",{className:"activities-langing-page"},l.a.createElement("div",{className:"explore-mallorca-activities-wrapper"},l.a.createElement(b.a,{text:"Explore Mallorca Activities"}),l.a.createElement("div",{className:"explore-mallorca-activities"},l.a.createElement("div",{className:"drop-down-wrapper"},l.a.createElement("button",{onClick:se}," ",W," ",l.a.createElement(u.a,{src:k.a})),a&&l.a.createElement("div",{className:"show-result"},oe.map(function(e,t){return l.a.createElement("div",{className:W===e.text?"active":"",key:t,onClick:function(){return le(e.text)}}," ",l.a.createElement(u.a,{src:e.svg})," ",e.text," ")}))),l.a.createElement("div",{className:"buttons"},oe.map(function(e,t){return l.a.createElement(d.b,{key:t,to:"/activities-landing?".concat(Object(d.c)({tag:e.text}).toString()),style:{textDecoration:"none"}},l.a.createElement(m.a,{key:t,icon:e.svg,text:e.text,active:W===e.text}))})))),l.a.createElement("div",{className:"top-activities-wrapper"},l.a.createElement(b.a,{text:"Top Activities in Mallorca"}),l.a.createElement("div",{className:"top-activities"},y.map(function(e,t){return l.a.createElement(p.a,{key:e.id,image:e.thumbnail[0],title:e.details.title[0],id:e.slug,price:"".concat(e.details.price_unit," ").concat(e.details.price_amount),rating:e.rating.average,ratingCount:e.rating.total})})),l.a.createElement("button",{onClick:function(){return re(!1)},disabled:R||!L},R?"Loading...":"Load more")),l.a.createElement("div",{className:"top-attractions-wrapper"},l.a.createElement(b.a,{text:"Top 6 attractions in Mallorca"}),l.a.createElement("div",{className:"top-attractions"},x.c.map(function(e,t){return l.a.createElement(E.a,{key:e._id,img:e.src,desc:e.desc,title:e.title,value:e._id,rating:e.rating,slug:e.slug})}))),l.a.createElement(f.a,null),l.a.createElement("div",{className:"property-offers-wrapper"},l.a.createElement(b.a,{text:"Property Offers"}),l.a.createElement("div",{className:"property-offers"},l.a.createElement(g.a,{values:$,setValues:ee,handleSubmit:ie})),l.a.createElement("div",{className:"wrapper-slider"},l.a.createElement(v.a,{source:ne,type:"props",secondGuideCardProp:!0}))),l.a.createElement("div",{className:"mallorca-gallery-images"},l.a.createElement(b.a,{text:"Mallorca Gallery"}),l.a.createElement("div",{className:"gallery-images"},l.a.createElement(o.a,{widgetID:"1b26b4ce-7ba2-4fb8-8e72-fdcdfa618769"}))))))};t.default=z}}]);
//# sourceMappingURL=4.63a97cc2.chunk.js.map