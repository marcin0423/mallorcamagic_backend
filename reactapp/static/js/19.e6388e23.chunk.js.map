{"version":3,"sources":["images/svg/arrow-right-white.svg","views/SavedGuides.js"],"names":["module","exports","__webpack_require__","p","SavedGuides","_useState","useState","_useState2","Object","E_Python_MallorcaMagc_clean_for_deploy_mallorcamagic_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","guide","setGuide","openModal","useSavedGuidesFormModal","token","useRecoilValue","AuthToken","useEffect","axios","get","concat","HOST_NAME","headers","Authorization","then","res","data","results","catch","err","console","log","handleDelete","useCallback","slug","delete","filter","handleOpen","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","className","_containers_DefaultLayout__WEBPACK_IMPORTED_MODULE_8__","length","onClick","map","item","_components_Guide_GuideCard_index__WEBPACK_IMPORTED_MODULE_6__","save","key","image","thumbnail","title","title_en","desc","short_desc_en","id","onDelete","isSaved","react_inlinesvg__WEBPACK_IMPORTED_MODULE_3__","src","Heart","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","to","ArrowRight"],"mappings":"8EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,0QCc3BC,EAAc,WAAM,IAAAC,EACLC,mBAAS,IADJC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACxBK,EADwBH,EAAA,GACjBI,EADiBJ,EAAA,GAEvBK,EAAcC,cAAdD,UACFE,EAAQC,YAAeC,KAG7BC,oBAAU,WACRC,IAAMC,IAAN,GAAAC,OAAaC,IAAb,wBAA8C,CAAEC,QAAS,CAAEC,cAAa,SAAAH,OAAWN,MAChFU,KAAK,SAAAC,GAEJd,EAASc,EAAIC,KAAKC,WACjBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAC7B,CAACf,IAEJ,IAAMkB,EAAeC,sBAAY,SAACC,GAChChB,IAAMiB,OAAN,GAAAf,OAAgBC,IAAhB,oBAA6C,CAAEK,KAAM,CAAEQ,QAAQZ,QAAS,CAAEC,cAAa,SAAAH,OAAWN,MAC/FU,KAAK,SAAAC,GACJd,EAASD,EAAM0B,OAAO,SAAA1B,GAAK,OAAIA,EAAMwB,OAASA,OAC7CN,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAC7B,CAACf,EAAOJ,EAAOC,IAEZ0B,EAAaJ,sBAAY,WAC7BrB,EAAU,WACT,CAACA,IAEJ,OACE0B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACEJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,0BACC9B,EAAMiC,OAASL,EAAAC,EAAAC,cAAA,UAAQI,QAASP,GAAjB,cAAmD,IAEpE3B,EAAMiC,OACLL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACZ/B,EAAMmC,IAAI,SAACC,GACV,OACER,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAWC,MAAI,EAACC,IAAKH,EAAKZ,KAAMgB,MAAOJ,EAAKK,UAAWC,MAAON,EAAKO,SAAUC,KAAMR,EAAKS,cAAeC,GAAIV,EAAKZ,KAAMuB,SAAUzB,EAAc0B,SAAS,OAK7JpB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAACmB,EAAA,EAAD,CAAMC,IAAKC,MACXvB,EAAAC,EAAAC,cAAA,sDACAF,EAAAC,EAAAC,cAAA,iFACAF,EAAAC,EAAAC,cAACsB,EAAA,EAAD,CAAMC,GAAG,kBAAT,iBAAwCzB,EAAAC,EAAAC,cAACmB,EAAA,EAAD,CAAMC,IAAKI,YASlD5D","file":"static/js/19.e6388e23.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/arrow-right-white.a4852aa2.svg\";","import axios from \"axios\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport Isvg from 'react-inlinesvg';\r\nimport { Link } from \"react-router-dom\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport { GuideCard } from \"../components/Guide/GuideCard/index\";\r\nimport { HOST_NAME } from \"../config\";\r\nimport { DefaultLayout } from '../containers/DefaultLayout';\r\nimport ArrowRight from '../images/svg/arrow-right-white.svg';\r\nimport Heart from '../images/svg/heart.svg';\r\nimport { useSavedGuidesFormModal } from \"../modals/Guides/Provider\";\r\nimport { AuthToken } from \"../recoilState/User\";\r\n\r\n\r\nexport const SavedGuides = () => {\r\n  const [guide, setGuide] = useState([]);\r\n  const { openModal } = useSavedGuidesFormModal();\r\n  const token = useRecoilValue(AuthToken);\r\n\r\n  // Load saved guides\r\n  useEffect(() => {\r\n    axios.get(`${HOST_NAME}api/saved/guide/get/`, { headers: { Authorization: `Token ${token}` } })\r\n      .then(res => {\r\n        // Need to add pagination\r\n        setGuide(res.data.results);\r\n      }).catch(err => console.log(err));\r\n  }, [token]);\r\n\r\n  const handleDelete = useCallback((slug) => {\r\n    axios.delete(`${HOST_NAME}api/saved/guide/`, { data: { slug }, headers: { Authorization: `Token ${token}` } })\r\n      .then(res => {\r\n        setGuide(guide.filter(guide => guide.slug !== slug));\r\n      }).catch(err => console.log(err));\r\n  }, [token, guide, setGuide]);\r\n\r\n  const handleOpen = useCallback(() => {\r\n    openModal(\"guides\");\r\n  }, [openModal]);\r\n\r\n  return (\r\n    <div className=\"saved-guides-wrapper\">\r\n      <DefaultLayout>\r\n        <div className=\"saved-guides\">\r\n          <div className=\"header\">\r\n            <h1>Saved Guides</h1>\r\n            {guide.length ? <button onClick={handleOpen}>Remove All</button> : \"\"}\r\n          </div>\r\n          {guide.length ?\r\n            <div className=\"saved-wrapper\">\r\n              {guide.map((item) => {\r\n                return (\r\n                  <GuideCard save key={item.slug} image={item.thumbnail} title={item.title_en} desc={item.short_desc_en} id={item.slug} onDelete={handleDelete} isSaved={true} />\r\n                )\r\n              })}\r\n            </div>\r\n            :\r\n            <div className=\"no-guides\">\r\n              <Isvg src={Heart} />\r\n              <h2>You donâ€™t have any saved Guides yet</h2>\r\n              <p>Browse our Informative and Interesting guide Which you can save here</p>\r\n              <Link to=\"/guide-landing\">Browse Guides <Isvg src={ArrowRight} /></Link>\r\n            </div>\r\n          }\r\n        </div>\r\n      </DefaultLayout>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SavedGuides"],"sourceRoot":""}